2026-02-17 21:11:33 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 21:12:01 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:12:01 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.004—Å
2026-02-17 21:12:31 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:12:31 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:13:01 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:13:01 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:13:32 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:13:32 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:14:02 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:14:02 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:14:32 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:14:32 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:15:02 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:15:02 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:15:32 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:15:32 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:16:02 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:16:02 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:16:32 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:16:32 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:17:03 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:17:03 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:17:33 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:17:33 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:18:03 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:18:03 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:18:33 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:18:33 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:19:03 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:19:03 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:19:33 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:19:33 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:20:03 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:20:03 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:20:34 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:20:34 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:21:04 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:21:04 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:21:34 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:21:34 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:22:04 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:22:04 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:22:34 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:22:34 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:23:04 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:23:04 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:23:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:23:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:24:05 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:24:05 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:24:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:24:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:24:53 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /auth/login-json
2026-02-17 21:24:53 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /auth/login-json | –í—Ä–µ–º—è: 0.092—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.email, users.hashed_password, users.full_name, users.is_active, users.role, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('test@test.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/auth.py", line 97, in login_json
    user = await authenticate_user(db, credentials.email, credentials.password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/auth.py", line 57, in authenticate_user
    user = await get_user_by_email(db, email)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/auth.py", line 51, in get_user_by_email
    result = await db.execute(select(User).where(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.email, users.hashed_password, users.full_name, users.is_active, users.role, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('test@test.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-17 21:24:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /auth/login-json
2026-02-17 21:24:54 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /auth/login-json | –í—Ä–µ–º—è: 0.004—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.email, users.hashed_password, users.full_name, users.is_active, users.role, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('test@test.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 526, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 773, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/connection.py", line 638, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/connection.py", line 657, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/connection.py", line 443, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/auth.py", line 97, in login_json
    user = await authenticate_user(db, credentials.email, credentials.password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/auth.py", line 57, in authenticate_user
    user = await get_user_by_email(db, email)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/auth.py", line 51, in get_user_by_email
    result = await db.execute(select(User).where(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.email, users.hashed_password, users.full_name, users.is_active, users.role, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('test@test.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-02-17 21:25:05 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:25:05 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.003—Å
2026-02-17 21:25:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:25:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.005—Å
2026-02-17 21:26:05 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:26:05 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:26:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:26:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:27:06 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:27:06 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:27:36 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:27:36 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:28:06 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:28:06 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:28:36 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:28:36 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:29:06 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:29:06 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:29:36 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:29:36 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:30:06 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:30:06 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:30:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:30:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:31:07 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:31:07 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:31:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:31:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:32:07 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:32:07 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:32:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:32:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:33:07 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:33:07 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:33:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:33:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:34:08 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:34:08 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:34:38 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:34:38 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:35:08 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:35:08 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:35:38 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:35:38 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:36:08 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:36:08 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:36:38 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:36:38 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:37:08 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:37:08 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:37:38 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:37:38 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:38:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:38:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:38:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:38:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:39:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:39:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:39:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:39:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:40:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:40:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:40:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:40:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:41:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:41:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:41:12 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 21:41:41 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 21:42:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:42:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.004—Å
2026-02-17 21:42:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:42:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:42:49 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /auth/login-json
2026-02-17 21:42:49 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /auth/login-json | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.344—Å
2026-02-17 21:42:51 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 21:42:51 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.006—Å
2026-02-17 21:42:51 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 21:42:51 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.024—Å
2026-02-17 21:42:52 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 21:42:52 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.009—Å
2026-02-17 21:42:53 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/logs
2026-02-17 21:42:53 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/logs | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.018—Å
2026-02-17 21:43:03 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/loading_words_db/500
2026-02-17 21:43:03 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/loading_words_db/500 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.006—Å
2026-02-17 21:43:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:43:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:43:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:43:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:44:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:44:09 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:44:40 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:44:40 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:44:50 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 21:44:50 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.035—Å
2026-02-17 21:44:50 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 21:44:50 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.003—Å
2026-02-17 21:44:50 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 21:44:50 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.030—Å
2026-02-17 21:44:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 21:44:54 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.005—Å
2026-02-17 21:45:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/498
2026-02-17 21:45:03 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/498 | –í—Ä–µ–º—è: 3.398—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 3, 885850), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 3, 885853), datetime.datetime(2026, 2, 17, 21, 45, 3, 885855))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 3, 885850), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 3, 885853), datetime.datetime(2026, 2, 17, 21, 45, 3, 885855))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:45:06 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/498
2026-02-17 21:45:06 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/498 | –í—Ä–µ–º—è: 0.657—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 6, 926361), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 6, 926365), datetime.datetime(2026, 2, 17, 21, 45, 6, 926368))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 6, 926361), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 6, 926365), datetime.datetime(2026, 2, 17, 21, 45, 6, 926368))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:45:09 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/497
2026-02-17 21:45:09 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/497 | –í—Ä–µ–º—è: 0.650—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 497 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 9, 994489), 'generate_error', 497, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 9, 994493), datetime.datetime(2026, 2, 17, 21, 45, 9, 994496))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 497 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 497 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 497 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 9, 994489), 'generate_error', 497, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 9, 994493), datetime.datetime(2026, 2, 17, 21, 45, 9, 994496))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:45:10 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:45:10 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:45:13 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/498
2026-02-17 21:45:13 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/498 | –í—Ä–µ–º—è: 0.415—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 13, 469415), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 13, 469419), datetime.datetime(2026, 2, 17, 21, 45, 13, 469422))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 13, 469415), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 13, 469419), datetime.datetime(2026, 2, 17, 21, 45, 13, 469422))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:45:22 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/496
2026-02-17 21:45:23 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/496 | –í—Ä–µ–º—è: 1.813—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 496 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 23, 963094), 'generate_error', 496, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 23, 963097), datetime.datetime(2026, 2, 17, 21, 45, 23, 963100))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 496 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 496 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 496 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 45, 23, 963094), 'generate_error', 496, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 45, 23, 963097), datetime.datetime(2026, 2, 17, 21, 45, 23, 963100))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:45:40 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:45:40 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:46:10 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:46:10 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:46:40 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:46:40 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:47:10 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:47:10 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:47:40 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:47:40 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:48:11 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:48:11 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:48:41 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:48:41 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:49:11 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:49:11 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:49:41 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:49:41 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:49:53 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 21:50:28 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 21:50:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 21:50:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.114—Å
2026-02-17 21:50:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 21:50:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.044—Å
2026-02-17 21:50:36 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 21:50:36 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.008—Å
2026-02-17 21:50:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/499
2026-02-17 21:50:43 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/499 | –í—Ä–µ–º—è: 4.020—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 499 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 43, 356406), 'generate_error', 499, '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: [Errno -5] No address associated with hostname', 'error', datetime.datetime(2026, 2, 17, 21, 50, 43, 356410), datetime.datetime(2026, 2, 17, 21, 50, 43, 356412))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/local/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/root/.local/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -5] No address associated with hostname

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 45, in get_response
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/local/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -5] No address associated with hostname

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 499 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 499 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 499 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 43, 356406), 'generate_error', 499, '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: [Errno -5] No address associated with hostname', 'error', datetime.datetime(2026, 2, 17, 21, 50, 43, 356410), datetime.datetime(2026, 2, 17, 21, 50, 43, 356412))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:50:45 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/500
2026-02-17 21:50:49 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/500 | –í—Ä–µ–º—è: 4.014—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 49, 472809), 'generate_error', 500, '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: [Errno -5] No address associated with hostname', 'error', datetime.datetime(2026, 2, 17, 21, 50, 49, 472813), datetime.datetime(2026, 2, 17, 21, 50, 49, 472817))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_async/connection.py", line 124, in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_backends/auto.py", line 31, in connect_tcp
    return await self._backend.connect_tcp(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 113, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/local/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/root/.local/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno -5] No address associated with hostname

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 45, in get_response
    response = await self.client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1859, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/usr/local/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/root/.local/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno -5] No address associated with hostname

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 49, 472809), 'generate_error', 500, '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: [Errno -5] No address associated with hostname', 'error', datetime.datetime(2026, 2, 17, 21, 50, 49, 472813), datetime.datetime(2026, 2, 17, 21, 50, 49, 472817))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:50:51 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/499
2026-02-17 21:50:52 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/500
2026-02-17 21:50:52 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/499 | –í—Ä–µ–º—è: 1.418—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 499 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 52, 984951), 'generate_error', 499, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 52, 984955), datetime.datetime(2026, 2, 17, 21, 50, 52, 984957))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 499 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 499 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 499 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 52, 984951), 'generate_error', 499, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 52, 984955), datetime.datetime(2026, 2, 17, 21, 50, 52, 984957))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:50:53 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/500 | –í—Ä–µ–º—è: 1.683—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 53, 786915), 'generate_error', 500, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 53, 786919), datetime.datetime(2026, 2, 17, 21, 50, 53, 786921))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 53, 786915), 'generate_error', 500, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 53, 786919), datetime.datetime(2026, 2, 17, 21, 50, 53, 786921))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:50:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/498
2026-02-17 21:50:55 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/500
2026-02-17 21:50:55 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/498 | –í—Ä–µ–º—è: 0.659—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 55, 296709), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 55, 296713), datetime.datetime(2026, 2, 17, 21, 50, 55, 296716))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 498 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 55, 296709), 'generate_error', 498, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 55, 296713), datetime.datetime(2026, 2, 17, 21, 50, 55, 296716))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:50:55 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/500 | –í—Ä–µ–º—è: 0.669—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 55, 808324), 'generate_error', 500, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 55, 808329), datetime.datetime(2026, 2, 17, 21, 50, 55, 808333))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 71, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 50, 55, 808324), 'generate_error', 500, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 50, 55, 808329), datetime.datetime(2026, 2, 17, 21, 50, 55, 808333))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:50:56 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:50:56 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:51:26 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:51:26 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:51:56 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:51:56 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:52:06 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 21:52:45 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 21:52:48 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 21:52:54 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 21:53:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 21:53:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.116—Å
2026-02-17 21:53:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 21:53:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.050—Å
2026-02-17 21:53:01 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/500
2026-02-17 21:53:03 - itemgate - ERROR - –û—à–∏–±–∫–∞: POST /sima-land/ai_generate_desc_seller/500 | –í—Ä–µ–º—è: 1.612—Å | –û—à–∏–±–∫–∞: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 53, 3, 403889), 'generate_error', 500, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 53, 3, 403892), datetime.datetime(2026, 2, 17, 21, 53, 3, 403894))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "/app/routers/sima_land/ai_generate.py", line 58, in generate_ai_description
    ai_response = await openRouterClient.get_response(user_data=str(request_item))
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/ai_client.py", line 49, in get_response
    response.raise_for_status()
  File "/root/.local/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 251, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 153, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/codecs/text.pyx", line 29, in asyncpg.pgproto.pgproto.text_encode
  File "asyncpg/pgproto/codecs/text.pyx", line 12, in asyncpg.pgproto.pgproto.as_pg_string_and_size
TypeError: expected str, got int

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 550, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 177, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 268, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 257, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 184, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/main.py", line 29, in log_requests
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/root/.local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/.local/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/routers/sima_land/ai_generate.py", line 83, in generate_ai_description
    await db.commit()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 563, in _prepare_and_execute
    self._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 513, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/root/.local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $4: 500 (expected str, got int)
[SQL: INSERT INTO log (user_id, timestamp, action, item_id, message, status, created_at, updated_at) VALUES ($1::INTEGER, $2::TIMESTAMP WITHOUT TIME ZONE, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE) RETURNING log.id]
[parameters: (1, datetime.datetime(2026, 2, 17, 21, 53, 3, 403889), 'generate_error', 500, "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI: Client error '401 Unauthorized' for url 'https://openrouter.ai/api/v1/chat/completions'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", 'error', datetime.datetime(2026, 2, 17, 21, 53, 3, 403892), datetime.datetime(2026, 2, 17, 21, 53, 3, 403894))]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2026-02-17 21:53:23 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:53:23 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:53:53 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:53:53 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:54:23 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:54:23 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:54:53 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:54:53 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:55:23 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:55:23 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:55:53 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:55:53 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:56:23 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:56:23 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:56:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:56:54 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 21:57:24 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:57:24 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:57:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:57:54 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:58:24 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:58:24 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:58:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:58:54 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:59:24 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:59:24 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 21:59:54 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 21:59:54 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:00:25 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:00:25 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:00:55 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:00:55 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:01:25 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:01:25 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:01:55 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:01:55 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:02:25 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:02:25 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:02:55 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:02:55 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:03:25 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:03:25 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:03:56 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:03:56 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:04:26 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:04:26 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:04:56 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:04:56 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:04:57 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 22:05:30 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 22:05:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 22:05:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.124—Å
2026-02-17 22:05:39 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:05:39 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.051—Å
2026-02-17 22:05:40 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/500
2026-02-17 22:05:56 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/499
2026-02-17 22:05:58 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:05:58 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:05:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:05:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.069—Å
2026-02-17 22:06:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/500 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 19.540—Å
2026-02-17 22:06:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:06:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.030—Å
2026-02-17 22:06:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:06:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.008—Å
2026-02-17 22:06:02 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:06:02 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.008—Å
2026-02-17 22:06:12 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 22:06:12 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.004—Å
2026-02-17 22:06:12 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:06:12 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.023—Å
2026-02-17 22:06:16 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 22:06:16 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.004—Å
2026-02-17 22:06:16 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:06:16 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.024—Å
2026-02-17 22:06:19 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/499 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 22.436—Å
2026-02-17 22:06:28 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:06:28 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:06:58 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:06:58 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:07:28 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:07:28 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:07:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:07:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:08:11 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /auth/login-json
2026-02-17 22:08:11 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /auth/login-json | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.257—Å
2026-02-17 22:08:12 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /auth/me
2026-02-17 22:08:12 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /auth/me | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.003—Å
2026-02-17 22:08:13 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:08:13 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.055—Å
2026-02-17 22:08:16 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:16 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.011—Å
2026-02-17 22:08:17 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/logs
2026-02-17 22:08:17 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/logs | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.014—Å
2026-02-17 22:08:22 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/498
2026-02-17 22:08:24 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/495
2026-02-17 22:08:25 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/493
2026-02-17 22:08:26 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/496
2026-02-17 22:08:27 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: POST /sima-land/ai_generate_desc_seller/497
2026-02-17 22:08:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:08:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:08:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.079—Å
2026-02-17 22:08:33 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/493 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 7.679—Å
2026-02-17 22:08:33 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:08:33 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.043—Å
2026-02-17 22:08:33 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:33 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.013—Å
2026-02-17 22:08:34 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/496 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 8.289—Å
2026-02-17 22:08:34 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:08:34 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.028—Å
2026-02-17 22:08:35 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:35 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.008—Å
2026-02-17 22:08:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/497 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 9.677—Å
2026-02-17 22:08:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:08:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.125—Å
2026-02-17 22:08:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.013—Å
2026-02-17 22:08:41 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:41 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.007—Å
2026-02-17 22:08:41 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/498 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 18.923—Å
2026-02-17 22:08:41 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:08:41 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.034—Å
2026-02-17 22:08:41 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:41 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.009—Å
2026-02-17 22:08:45 - itemgate - INFO - –û—Ç–≤–µ—Ç: POST /sima-land/ai_generate_desc_seller/495 | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 21.433—Å
2026-02-17 22:08:45 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items
2026-02-17 22:08:45 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.025—Å
2026-02-17 22:08:45 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /sima-land/get_items_sellers
2026-02-17 22:08:45 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /sima-land/get_items_sellers | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.007—Å
2026-02-17 22:08:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:08:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:09:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:09:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:09:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:09:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:10:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:10:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:10:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:10:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:11:30 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:11:30 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:12:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:12:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:12:30 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:12:30 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:13:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:13:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:13:30 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:13:30 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:14:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:14:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:14:31 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:14:31 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:14:31 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 22:15:08 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 22:15:36 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:15:36 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.005—Å
2026-02-17 22:16:06 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:16:06 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:16:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:16:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:17:07 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:17:07 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:17:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:17:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:18:07 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:18:07 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:18:37 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:18:37 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:18:59 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 22:19:30 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 22:19:58 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:19:58 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.005—Å
2026-02-17 22:20:28 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:20:28 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:20:58 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:20:58 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:21:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:21:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.003—Å
2026-02-17 22:21:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:21:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:22:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:22:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:22:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:22:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:23:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:23:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:23:59 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:23:59 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:24:29 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:24:29 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:25:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:25:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:25:30 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:25:30 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:26:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:26:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:26:30 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:26:30 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.002—Å
2026-02-17 22:27:00 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:27:00 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:27:19 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2026-02-17 22:27:50 - itemgate - INFO - üöÄ ItemGate API –∑–∞–ø—É—â–µ–Ω
2026-02-17 22:28:18 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:28:18 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.008—Å
2026-02-17 22:28:48 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:28:48 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:29:18 - itemgate - INFO - –ó–∞–ø—Ä–æ—Å: GET /health
2026-02-17 22:29:18 - itemgate - INFO - –û—Ç–≤–µ—Ç: GET /health | –°—Ç–∞—Ç—É—Å: 200 | –í—Ä–µ–º—è: 0.001—Å
2026-02-17 22:29:46 - itemgate - INFO - üõë ItemGate API –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
